import os

# --- 로그인 정보 ---
USERNAME = "1"
PASSWORD = "1"

# --- 하드코딩된 기본 설명 (선택적으로 사용) ---
# LLM이 이 기본 설명을 바탕으로 개인화된 설명을 생성합니다.
HARDCODED_BASE_EXPLANATIONS = {
    "수술 필요성": { # <-- 키를 한국어 제목으로 변경
        "자궁경부암": """
        환자분, 자궁경부암으로 인해 로봇수술이 필요하다는 설명을 들으시고 많이 걱정되실 거예요.
        로봇수술은 암을 정확하게 제거하고, 환자분의 몸에 부담을 덜 주면서 회복을 빠르게 돕는 최신 수술 방법입니다.
        작은 절개로 수술이 진행되어 출혈이 적고, 감염 위험도 낮출 수 있어요.
        저희 의료진은 환자분께 가장 안전하고 효과적인 치료를 제공하기 위해 로봇수술을 권유 드립니다.
        """,
        "난소암": """
        난소암 진단으로 인해 로봇수술을 고려하고 계시는군요. 마음이 많이 불안하실 수 있습니다.
        로봇수술은 난소암 병변을 정밀하게 확인하고 제거하는 데 매우 효과적인 방법입니다.
        특히 복잡한 부위의 수술 시에도 의사 선생님이 로봇 팔을 정교하게 조작하여 암 조직을 안전하게 제거할 수 있도록 돕습니다.
        이 수술은 환자분의 빠른 회복과 더 나은 결과를 위해 신중하게 선택된 방법입니다.
        """,
        "자궁내막암": """
        자궁내막암으로 로봇수술을 받으셔야 한다는 소식에 놀라셨을 수 있습니다.
        로봇수술은 자궁내막암을 정밀하게 제거하고 주변 조직의 손상을 최소화하는 데 도움을 줍니다.
        고해상도 3D 영상으로 수술 부위를 자세히 볼 수 있어 더 정확한 수술이 가능하며, 이는 환자분의 회복에 긍정적인 영향을 미칠 수 있습니다.
        저희는 환자분께서 건강을 되찾으실 수 있도록 최선을 다할 것입니다.
        """
    },
    "수술 방법": { # <-- 키를 한국어 제목으로 변경
        "자궁경부암": """
        로봇수술은 의사 선생님이 로봇 시스템을 조종하여 수술하는 방식입니다.
        환자분의 배에 몇 개의 작은 구멍을 내고, 그 구멍을 통해 로봇 팔과 카메라를 넣습니다.
        의사 선생님은 수술실 옆 조종석에 앉아 3D 화면을 보면서 로봇 팔을 움직여 수술을 진행합니다.
        로봇 팔은 사람의 손보다 더 정교하게 움직일 수 있고, 흔들림이 없어 안전하고 정확한 수술이 가능합니다.
        """,
        "난소암": """
        난소암 로봇수술은 의사 선생님이 로봇을 이용해 난소 주변의 암 조직을 정밀하게 제거하는 과정입니다.
        작은 절개로 로봇 팔이 들어가 수술 부위를 확대된 3D 영상으로 보면서 섬세하게 조작합니다.
        이를 통해 주변 장기 손상을 줄이고, 출혈을 최소화하여 환자분의 회복을 돕습니다.
        저희는 환자분께서 편안하게 수술을 받으실 수 있도록 최선을 다할 것입니다.
        """,
        "자궁내막암": """
        자궁내막암 로봇수술은 로봇 팔을 이용하여 암이 있는 자궁내막을 정밀하게 제거하는 수술입니다.
        의사 선생님이 로봇 콘솔에서 3D 고해상도 영상을 보며 로봇 팔을 조작하면, 로봇 팔은 사람의 손이 닿기 어려운 깊은 곳까지 정확하게 접근하여 수술을 수행합니다.
        이 방법은 회복이 빠르고 흉터가 작다는 장점이 있습니다.
        """
    },
    "고려 사항": { # <-- 키를 한국어 제목으로 변경
        "자궁경부암": """
        수술 전후로 환자분께서 지켜주셔야 할 몇 가지 중요한 사항들이 있습니다.
        수술 전에는 의료진의 지시에 따라 금식을 꼭 지켜주시고, 복용 중인 약물이 있다면 미리 알려주세요.
        수술 후에는 충분한 휴식을 취하고, 의료진이 안내하는 대로 가벼운 활동부터 시작하여 점차 몸을 움직이는 것이 중요합니다.
        수술 부위를 깨끗하게 관리하고, 열이 나거나 통증이 심해지면 참지 말고 바로 의료진에게 알려주세요.
        """,
        "난소암": """
        난소암 로봇수술 전후에는 몇 가지 주의사항을 지켜주시는 것이 좋습니다.
        수술 전에는 의료진이 안내하는 금식 시간을 꼭 지켜주시고, 평소 드시던 약이 있다면 미리 알려주세요.
        수술 후에는 충분한 휴식을 취하면서 의료진이 권장하는 범위 내에서 천천히 움직임을 늘려주세요.
        수술 부위의 청결을 유지하고, 불편하거나 이상 증상이 느껴지면 주저하지 말고 의료진에게 말씀해주세요.
        """,
        "자궁내막암": """
        자궁내막암 로봇수술을 받으신 후에는 몇 가지 주의사항을 기억해 주세요.
        수술 전에는 의료진의 지시에 따라 금식을 지키고, 드시는 약이 있다면 꼭 알려주세요.
        수술 후에는 몸이 완전히 회복될 때까지 무리한 활동은 피하고 충분히 쉬는 것이 중요합니다.
        수술 부위를 잘 관리하고, 열이 나거나 통증이 심해지는 등 이상 증상이 있다면 바로 의료진에게 알려주세요.
        """
    },
    "부작용": { # <-- 키를 한국어 제목으로 변경
        "자궁경부암": """
        모든 수술에는 예상치 못한 일이 생길 수 있어요. 로봇수술도 마찬가지로 몇 가지 부작용이 있을 수 있습니다.
        가장 흔한 것은 수술 부위의 통증, 출혈, 그리고 감염입니다. 이러한 증상들은 대부분 약물 치료나 적절한 조치로 관리될 수 있습니다.
        드물게는 주변 장기(방광, 장 등) 손상이나 마취 관련 부작용이 발생할 수도 있습니다.
        저희 의료진은 이러한 부작용을 최소화하기 위해 최선을 다하고 있으며, 만약 발생하더라도 신속하게 대처할 준비가 되어 있으니 너무 걱정하지 마세요.
        """,
        "난소암": """
        난소암 로봇수술 후에는 통증, 출혈, 감염과 같은 일반적인 수술 부작용이 나타날 수 있습니다.
        또한, 난소 기능 변화나 호르몬 불균형과 같은 특이적인 부작용이 생길 수도 있습니다.
        아주 드물게는 주변 장기 손상이나 혈전 발생 위험도 있습니다.
        저희는 환자분께서 안전하게 회복하실 수 있도록 모든 과정을 꼼꼼히 살피고, 불편한 점이 있다면 언제든지 도움을 드릴 것입니다.
        """,
        "자궁내막암": """
        자궁내막암 로봇수술 후에는 통증, 출혈, 감염 등의 일반적인 부작용이 있을 수 있습니다.
        경우에 따라서는 소변 기능 변화나 장 기능 이상과 같은 부작용이 나타날 수도 있습니다.
        저희 의료진은 이러한 부작용 발생 가능성을 최소화하기 위해 노력하며, 만약 부작용이 발생하더라도 환자분께서 잘 회복하실 수 있도록 최선을 다해 돌볼 것입니다.
        너무 불안해하지 마시고, 궁금한 점은 언제든 물어보세요.
        """
    },
    "주의사항": { # <-- 키를 한국어 제목으로 변경
        "자궁경부암": """
        수술 전후로 환자분께서 지켜주셔야 할 몇 가지 중요한 사항들이 있습니다.
        수술 전에는 의료진의 지시에 따라 금식을 꼭 지켜주시고, 복용 중인 약물이 있다면 미리 알려주세요.
        수술 후에는 충분한 휴식을 취하고, 의료진이 안내하는 대로 가벼운 활동부터 시작하여 점차 몸을 움직이는 것이 중요합니다.
        수술 부위를 깨끗하게 관리하고, 열이 나거나 통증이 심해지면 참지 말고 바로 의료진에게 알려주세요.
        """,
        "난소암": """
        난소암 로봇수술 전후에는 몇 가지 주의사항을 지켜주시는 것이 좋습니다.
        수술 전에는 의료진이 안내하는 금식 시간을 꼭 지켜주시고, 평소 드시던 약이 있다면 미리 알려주세요.
        수술 후에는 충분한 휴식을 취하면서 의료진이 권장하는 범위 내에서 천천히 움직임을 늘려주세요.
        수술 부위의 청결을 유지하고, 불편하거나 이상 증상이 느껴지면 주저하지 말고 의료진에게 말씀해주세요.
        """,
        "자궁내막암": """
        자궁내막암 로봇수술을 받으신 후에는 몇 가지 주의사항을 기억해 주세요.
        수술 전에는 의료진의 지시에 따라 금식을 지키고, 드시는 약이 있다면 꼭 알려주세요.
        수술 후에는 몸이 완전히 회복될 때까지 무리한 활동은 피하고 충분히 쉬는 것이 중요합니다.
        수술 부위를 잘 관리하고, 열이 나거나 통증이 심해지는 등 이상 증상이 있다면 바로 의료진에게 알려주세요.
        """
    },
    "자기결정권": { # <-- 키를 한국어 제목으로 변경
        "자궁경부암": """
        환자분께는 본인의 치료에 대해 스스로 결정할 권리가 있습니다.
        동의서에 서명하시더라도, 수술 전까지 언제든지 수술 동의를 철회할 수 있습니다.
        또한, 동의서의 모든 내용을 완전히 이해하셨는지 확인하는 것이 매우 중요합니다.
        혹시라도 이해가 안 되는 부분이 있거나 추가로 궁금한 점이 있다면 언제든지 의료진에게 질문해 주세요.
        환자분께서 편안하고 확실하게 결정하실 수 있도록 저희가 옆에서 도와드릴 것입니다.
        """,
        "난소암": """
        환자분은 본인의 치료 과정에 대해 충분히 이해하고 스스로 결정할 권리가 있습니다.
        난소암 로봇수술에 대한 동의서 내용을 꼼꼼히 살펴보시고, 궁금한 점이 있다면 주저하지 말고 질문해 주세요.
        수술 동의는 언제든지 철회할 수 있으며, 환자분의 의견은 항상 존중됩니다.
        저희는 환자분께서 가장 좋은 결정을 내리실 수 있도록 모든 정보를 투명하게 제공하고 도울 것입니다.
        """,
        "자궁내막암": """
        자궁내막암 로봇수술과 관련하여 환자분께는 중요한 자기 결정권이 있습니다.
        동의서의 모든 내용을 충분히 이해하고 동의하는지 확인하는 것이 중요하며, 만약 이해되지 않는 부분이 있다면 언제든지 다시 설명 요청을 할 수 있습니다.
        수술 동의는 수술 전까지 철회할 수 있으며, 환자분의 최종 결정이 가장 중요합니다.
        저희는 환자분께서 안심하고 치료를 선택하실 수 있도록 모든 지원을 아끼지 않을 것입니다.
        """
    },
}


# --- OX 퀴즈 데이터 ---
QUIZ_DATA = {
    "necessity": [
        {
            "question": "로봇수술은 배를 크게 열지 않고 작은 구멍으로만 수술해서 회복이 빠르다는 장점이 있어요. (O/X)",
            "answer": "O",
            "explanation": "네, 맞아요! 로봇수술은 최소 침습 수술이라 상처가 작고, 회복도 빨라요. 정말 잘 이해하셨네요! 😊"
        },
        {
            "question": "로봇수술은 꼭 필요한 경우에만 진행되며, 환자분의 상태를 꼼꼼히 확인하고 결정해요. (O/X)",
            "answer": "O",
            "explanation": "네, 맞아요! 어떤 수술이든 환자분께 가장 좋은 방법인지 의료진이 신중하게 판단해서 결정한답니다. 안심하세요! 💖"
        }
    ],
    "method": [
        {
            "question": "로봇수술은 의사 선생님이 직접 환자분의 배를 만지면서 수술하는 방식이에요. (O/X)",
            "answer": "X",
            "explanation": "아니요, 틀렸어요. 의사 선생님은 로봇 팔에 매달리는 게 아니라, 따로 앉아서 로봇 팔을 조종하며 수술하는 거예요. 그래도 의사 선생님이 직접 로봇을 움직이니 걱정하지 마세요! 👍"
        },
        {
            "question": "로봇수술은 사람의 눈으로 볼 수 없는 아주 작은 부위까지 확대해서 볼 수 있어서 더 정교하게 수술할 수 있어요. (O/X)",
            "answer": "O",
            "explanation": "네, 맞아요! 로봇은 사람의 눈보다 훨씬 더 자세히 볼 수 있게 도와줘서 수술이 더 섬세하게 진행될 수 있어요. 정말 똑똑하죠? ✨"
        }
    ],
    "considerations": [
        {
            "question": "수술 전에는 금식을 해야 하고, 의료진이 알려주는 주의사항을 꼭 지켜야 해요. (O/X)",
            "answer": "O",
            "explanation": "네, 맞아요! 금식과 의료진의 지시를 잘 따르면 더 안전하게 수술받을 수 있고 회복도 빨라진답니다. 잘 기억해 주세요! ✨"
        },
        {
            "question": "수술 전에는 건강 상태를 확인하기 위해 피검사나 심전도 검사 같은 여러 검사를 해요. (O/X)",
            "answer": "O",
            "explanation": "네, 맞아요! 환자분께 가장 안전한 수술을 해드리기 위해 몸 상태를 꼼꼼히 확인하는 과정이니 안심하세요. 😊"
        }
    ],
    "side_effects": [
        {
            "question": "모든 수술은 부작용이 전혀 없으므로 걱정할 필요가 없어요. (O/X)",
            "answer": "X",
            "explanation": "아니요, 틀렸어요. 모든 수술은 아주 작은 확률이라도 부작용이 생길 수 있어요. 하지만 의료진이 부작용을 최소화하기 위해 최선을 다하고, 혹시 생기더라도 잘 대처할 준비가 되어 있으니 너무 걱정 마세요. 저희가 함께할 거예요! 💖"
        },
        {
            "question": "수술 후 열이 나거나 수술 부위가 아프면 그냥 참지 말고 의료진에게 바로 알려야 해요. (O/X)",
            "answer": "O",
            "explanation": "네, 맞아요! 불편한 점이 있다면 언제든지 저희에게 이야기해주세요. 환자분의 편안한 회복을 돕는 것이 저희의 역할이랍니다! 🏥"
        }
    ],
    "precautions": [
        {
            "question": "수술 후에는 바로 집으로 돌아가서 하고 싶은 것을 다 해도 괜찮아요. (O/X)",
            "answer": "X",
            "explanation": "아니요, 틀렸어요. 수술 후에는 몸이 회복될 시간이 필요해요. 의료진이 알려주는 회복 기간 동안은 무리하지 않고 충분히 쉬는 것이 중요해요. 궁금한 점이 있다면 언제든지 저희에게 물어보세요! 🏥"
        },
        {
            "question": "수술 후에는 가벼운 걷기 운동부터 시작해서 몸이 회복되는 것을 도와주는 것이 좋아요. (O/X)",
            "answer": "O",
            "explanation": "네, 맞아요! 천천히 몸을 움직여주는 것이 회복에 도움이 돼요. 너무 무리하지 않는 선에서 움직여주세요. 💪"
        }
    ],
    "self_determination": [
        {
            "question": "수술 동의서에 서명하면 환자는 수술에 대해 아무것도 물어볼 수 없어요. (O/X)",
            "answer": "X",
            "explanation": "아니요, 틀렸어요. 동의서에 서명하더라도 수술에 대해 궁금한 점이 있다면 언제든지 물어보고 자세한 설명을 들을 수 있어요. 환자분의 마음이 편안한 것이 가장 중요하답니다! 🫂"
        },
        {
            "question": "수술 동의서의 내용을 모두 이해했는지 확인하고 서명하는 것이 중요해요. (O/X)",
            "answer": "O",
            "explanation": "네, 맞아요! 환자분께서 내용을 정확히 알고 동의하시는 것이 가장 중요하답니다. 혹시라도 궁금한 점이 있다면 언제든지 다시 물어봐주세요. 🤝"
        }
    ],
}

# --- 자주 묻는 질문 데이터 (FAQ) ---
# 각 FAQ 질문에 대한 답변을 추가합니다.
FAQ_DATA = {
    "necessity": [
        {"question": "1. 로봇수술 말고 다른 수술 방법은 없나요?", "answer": "환자분의 상태에 따라 개복 수술이나 복강경 수술 등 다른 수술 방법도 고려될 수 있습니다. 의료진과 충분히 상담하여 가장 적합한 방법을 선택하는 것이 중요합니다."},
        {"question": "2. 로봇수술을 꼭 해야만 하는 건가요?", "answer": "로봇수술은 특정 질환이나 환자 상태에 더 유리한 경우에 권장됩니다. 반드시 로봇수술만 해야 하는 것은 아니며, 의료진이 환자분께 가장 이점이 많은 방법을 제안해 드릴 것입니다."},
        {"question": "3. 만약 수술을 안 하면 어떻게 되나요?", "answer": "수술을 하지 않을 경우 질환의 진행, 증상 악화, 합병증 발생 등 다양한 결과가 있을 수 있습니다. 의료진이 환자분의 현재 상태와 수술하지 않았을 때의 예상 경과에 대해 자세히 설명해 드릴 것입니다."},
    ],
    "method": [
        {"question": "1. 수술 시간은 얼마나 걸리나요?", "answer": "수술 시간은 환자분의 질환 종류, 수술 범위, 개인의 특성에 따라 달라질 수 있습니다. 일반적으로 몇 시간 정도 소요될 수 있으며, 의료진이 예상 시간을 미리 알려드릴 것입니다."},
        {"question": "2. 로봇이 혼자서 수술하는 건가요?", "answer": "아니요, 로봇은 의사 선생님의 정교한 조작을 돕는 도구입니다. 의사 선생님이 로봇 시스템을 통해 수술 기구를 직접 제어하며 수술을 진행합니다. 로봇이 스스로 판단하여 수술하는 것이 아닙니다."},
        {"question": "3. 수술 후 흉터는 얼마나 남나요?", "answer": "로봇수술은 작은 절개를 통해 진행되므로, 개복 수술에 비해 흉터가 훨씬 작습니다. 보통 몇 개의 작은 구멍 자국만 남게 되며, 시간이 지나면서 점차 흐려집니다."},
    ],
    "considerations": [
        {"question": "1. 수술 전에 꼭 준비해야 할 것이 있나요?", "answer": "수술 전에는 의료진의 지시에 따라 금식, 약물 복용 중단, 필요한 검사 진행 등 여러 준비가 필요합니다. 자세한 내용은 수술 전 안내 시 알려드릴 것입니다."},
        {"question": "2. 금식은 왜 해야 하나요?", "answer": "금식은 마취 및 수술 중 발생할 수 있는 흡인성 폐렴 등 합병증을 예방하기 위해 필수적입니다. 위장 내 음식물이 역류하여 기도로 넘어가는 것을 막기 위함입니다."},
        {"question": "3. 수술 전 복용하던 약은 어떻게 해야 하나요?", "answer": "수술 전 복용 중인 모든 약물에 대해 의료진에게 반드시 알려주셔야 합니다. 특히 혈액 응고에 영향을 미 미치는 약물은 수술 전 일정 기간 중단해야 할 수 있습니다."},
    ],
    "side_effects": [
        {"question": "1. 모든 수술은 부작용이 전혀 없으므로 걱정할 필요가 없어요. (O/X)", "answer": "아니요, 틀렸어요. 모든 수술은 아주 작은 확률이라도 부작용이 생길 수 있어요. 하지만 의료진이 부작용을 최소화하기 위해 최선을 다하고, 혹시 생기더라도 잘 대처할 준비가 되어 있으니 너무 걱정 마세요. 저희가 함께할 거예요! 💖"},
        {"question": "2. 예상치 못한 다른 부작용은 없나요?", "answer": "모든 수술에는 감염, 출혈, 장기 손상, 마취 부작용 등 예상치 못한 합병증의 위험이 있습니다. 의료진이 발생 가능한 모든 부작용에 대해 자세히 설명해 드릴 것입니다."},
        {"question": "3. 부작용이 생기면 어떻게 대처해주시나요?", "answer": "부작용 발생 시 의료진이 신속하게 환자분의 상태를 평가하고 필요한 조치를 취할 것입니다. 최선을 다해 안전하게 대처할 준비가 되어 있습니다."},
    ],
    "precautions": [
        {"question": "1. 수술 후 언제부터 음식을 먹을 수 있나요?", "answer": "수술 후 장 운동 회복 상태에 따라 물부터 시작하여 미음, 죽 등으로 점차 식사를 진행합니다. 의료진의 지시에 따라야 합니다."},
        {"question": "2. 퇴원 후 집에서 주의해야 할 점은 무엇인가요?", "answer": "퇴원 후에는 무리한 활동을 피하고 충분한 휴식을 취해야 합니다. 수술 부위 관리, 약 복용, 통증 조절 등 의료진이 알려드리는 주의사항을 잘 지켜주셔야 합니다."},
        {"question": "3. 언제부터 운동을 다시 시작할 수 있나요?", "answer": "가벼운 걷기 등은 비교적 일찍 시작할 수 있지만, 격렬한 운동은 수술 부위 회복에 따라 점진적으로 시작해야 합니다. 의료진과 상담 후 결정하는 것이 좋습니다."},
    ],
    "self_determination": [
        {"question": "1. 동의서 내용을 나중에 다시 볼 수 있나요?", "answer": "네, 동의서 내용은 언제든지 다시 확인하실 수 있습니다. 필요하시면 사본을 제공해 드릴 수 있습니다."},
        {"question": "2. 수술 동의를 철회할 수도 있나요?", "answer": "네, 수술 동의는 수술 전까지 언제든지 철회할 수 있습니다. 동의 철회 의사를 의료진에게 알려주시면 됩니다."},
        {"question": "3. 가족들도 동의서 설명을 함께 들을 수 있나요?", "answer": "네, 환자분이 원하시면 가족분들도 동의서 설명을 함께 들을 수 있습니다. 중요한 결정을 함께 논의하는 데 도움을 드릴 것입니다."},
    ],
}

# 사이드바 섹션 매핑
SECTIONS_SIDEBAR_MAP = {
    "necessity": {"title": "수술 필요성", "idx": 1},
    "method": {"title": "수술 방법", "idx": 2},
    "considerations": {"title": "고려 사항", "idx": 3},
    "side_effects": {"title": "부작용", "idx": 4},
    "precautions": {"title": "주의사항", "idx": 5},
    "self_determination": {"title": "자기결정권", "idx": 6},
}

# 섹션 순서 (이전/다음 버튼 등에 사용)
SECTIONS_ORDER_KEYS = ["necessity", "method", "considerations", "side_effects", "precautions", "self_determination"]