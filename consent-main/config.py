import os

# --- 로그인 정보 ---
USERNAME = "1"
PASSWORD = "1"

# 섹션 순서 (이전/다음 버튼 등에 사용)
SECTIONS_ORDER_KEYS = ["necessity", "method", "considerations", "side_effects", "precautions"]

# 사이드바 섹션 매핑
SECTIONS_SIDEBAR_MAP = {
    "necessity": {"title": "왜 수술을 해야 하나요?", "idx": 1},
    "method": {"title": "수술은 어떻게 진행되나요?", "idx": 2},
    "considerations": {"title": "알아두어야 할 점", "idx": 3},
    "side_effects": {"title": "합병증", "idx": 4},
    "precautions": {"title": "관리 방법법", "idx": 5},
}


IMAGE_FILE_MAP = {
    # 수술 종류 1: 로봇보조 자궁절제술
    "로봇보조 자궁절제술": {
        "necessity": "images/gynecologic/necessity.jpg", 
        "method": "images/gynecologic/method.png",
        "considerations": "images/gynecologic/considerations.png",
        "side_effects": "images/gynecologic/side_effects.png",
        "precautions": "images/gynecologic/precautions.png",
    },
    # 수술 종류 2: 로봇보조 전립선절제술
    "로봇보조 전립선절제술": {
        "necessity": "images/urology/necessity.jpg",
        "method": "images/urology/method.png",
        "considerations": "images/urology/considerations.jpeg",
        "side_effects": "images/urology/side_effects.jpg",
        "precautions": "images/urology/precautions.png",
    },
}

HARDCODED_BASE_EXPLANATIONS = {
"왜 수술을 해야 하나요?": {
    "로봇보조 자궁절제술": 
    
    """
    
    - <mark>**암이 생긴 부위를 잘라내고**</mark>, 암세포가 퍼졌을 가능성이 있는 **자궁 주변과 림프절** 등을 함께 제거
    - 수술로 떼어낸 조직을 **검사**해서 암이 얼마나 퍼졌는지 정확하게 확인
    - 검사 결과는 앞으로의 치료 방향을 정하고, 병이 나을 가능성을 예측하는 데 중요
    - 최근에는 떼어낸 조직으로 유전자 검사 등을 해서 환자에게 꼭 맞는 치료법을 찾아 더 좋은 결과를 얻고 있습니다
    - 수술 방법은
    <br>❶ 배를 여는 수술(개복)
    <br>❷ 작은 구멍을 뚫는 수술(복강경)
    <br>❸ <mark>**로봇을 이용한 수술**</mark>
        """,

    "로봇보조 전립선절제술": 
    
    """

    **[수술이 왜 필요한가요?]**
    - <mark>**전립선 안에 있는 암을 완전히 없애서 병을 완치하는 것**</mark>이 가장 큰 목적
    - 수술로 떼어낸 전립선 조직을 자세히 **검사**해서 암이 얼마나 진행됐는지 정확히 판단하고, 
    <br>앞으로 추가 치료(항암, 방사선 치료 등)가 필요한지 결정
    - 과거에는 배를 크게 열고 수술했지만, 지금은 <mark>**로봇**</mark>을 이용해 아주 작은 상처만 내고 수술할 수 있습니다.

    """
    },

    "수술은 어떻게 진행되나요?": {
        "로봇보조 자궁절제술": 
        """

        |<span style="color: #007bff;">**장점**</span>|<span style="color: #dc143c;">**단점**</span>|
        |---|---|
        |상처가 작고 아픔이 덜하며, <span style="color: #007bff;">**회복이 빠릅니다.**</span>|건강보험이 적용되지 않아 <span style="color: #dc143c;">***수술비가 비쌉니다.**</span>
        화면을 확대해서 볼 수 있고, 로봇 팔이 자유롭게 움직여 <span style="color: #007bff;">**정교한 수술**</span>이 가능합니다.|<span style="color: #dc143c;">**수술 시간이 조금 더**</span> 걸립니다.
        손 떨림 없이 미세한 작업이 가능해 주변의 혈관이나 신경 <span style="color: #007bff;">**손상을 최소화**</span>할 수 있습니다.|수술 중 예상치 못한 문제가 생기면 <span style="color: #dc143c;">**배를 열거나 복강경 수술로**</span> 바꿔야 할 수 있습니다.|

        |**준비**|수술실로 이동해 환자 정보를 다시 한번 확인한 뒤, 전신 마취를 시작합니다.|
        |---|---|
        |**수술**|❶ 배꼽 주변에 2cm 정도의 작은 구멍을 뚫고 관을 넣습니다.<br>❷  이산화탄소 가스를 넣어 배를 부풀려 수술할 공간을 만듭니다.<br>❸ 카메라와 수술 도구가 들어갈 0.5-1cm 크기의 구멍을 아랫배에 2~3개 더 뚫습니다. <br>(구멍 위치와 개수는 달라질 수 있습니다.)<br>❹ 떼어낸 자궁 등은 질을 통해 꺼내거나, 잘게 잘라서 꺼냅니다.<br>❺ 구멍을 뚫었던 부위를 꿰매고 수술을 마칩니다.|
        |**회복**|마취에서 깨면 회복실로 이동해 상태가 안정될 때까지 지켜본 후, 병실로 돌아옵니다|
        
        |**수술 시간**|**총 소요 시간**|
        |---|---|
        |**2시간** <br>환자의 상태나 유착(장기 등이 달라붙는 현상) 정도에 따라 더 길어질 수 있습니다.|수술 준비부터 회복실을 거쳐 병실로 돌아오기까지는 **6시간**|
        """,

        "로봇보조 전립선절제술":

        """

        |<span style="color: #007bff;">**장점**</span>|<span style="color: #dc143c;">**단점**</span>|
        |---|---|
        |상처가 작고 아픔이 덜하며, <span style="color: #007bff;">**회복이 빠릅니다.**</span>|건강보험이 적용되지 않아 <span style="color: #dc143c;">**수술비가 비쌉니다.**</span>
        화면을 확대해서 볼 수 있고, 로봇 팔이 자유롭게 움직여 <span style="color: #007bff;">**정교한 수술**</span>이 가능합니다.|<span style="color: #dc143c;">**수술 시간이 조금 더**</span> 걸립니다.
        발기 관련 신경을 살리거나 <span style="color: #007bff;">**방광과 요도를 다시 연결**</span>하는 중요한 과정을 더 <span style="color: #007bff;">**정확하게**</span> 할 수 있습니다.|수술 중 예상치 못한 문제가 생기면 <span style="color: #dc143c;">**배를 여는 수술로**</span> 바꿔야 할 수 있습니다.|

        |**준비**|수술실로 이동해 환자 정보를 다시 한번 확인한 뒤, 전신 마취를 시작합니다.|
        |---|---|
        |**수술**|❶ 배꼽 주변에 5-12mm 크기의 작은 구멍을 <mark>**6개**</mark>를 뚫습니다. <br>❷  이산화탄소 가스를 넣어 배를 부풀려 수술할 공간을 만듭니다.<br>❸ 전립선과 그 주변 조직(정낭, 정관 일부)을 완전히 떼어냅니다. <br>❹ 그다음, **방광과 소변 길(요도)을 다시 연결**합니다. <br>❺ 필요에 따라 골반의 림프절을 함께 제거하거나, 발기에 중요한 신경을 살리는 수술을 같이 할 수 있습니다.|
        |**회복**|마취에서 깨면 회복실로 이동해 상태가 안정될 때까지 지켜본 후, 병실로 돌아옵니다|
        
        |**수술 시간**|**총 소요 시간**|
        |---|---|
        |**2시간** <br>환자의 상태나 유착(장기 등이 달라붙는 현상) 정도에 따라 더 길어질 수 있습니다.|수술 준비부터 회복실을 거쳐 병실로 돌아오기까지는 **6시간**|
        """
    },
    "알아두어야 할 점": {
        "로봇보조 자궁절제술": 
        
        """

        - 수술 전 검사에서 종양이 크거나 장기가 심하게 달라붙어 있을 것으로 예상되면, 
        <br><mark>**처음부터 배를 여는 수술**</mark>을 할 수도 있습니다.

        - 로봇 수술 중에 피가 많이 나거나 주변 장기가 다칠 위험이 크다고 판단되면, 
        <br>안전을 위해 배를 여는 수술로 바꿀 수 있습니다.

        - 수술 중 암이 생각보다 심각하다고 판단되면, 
        <br>**계획에 없던 림프절이나 난소를 함께 제거**할 수도 있습니다.

        - 암이 다른 장기(소화기관, 비뇨기관 등)로 퍼졌거나 수술 중 손상이 생기면, 
        <br>**다른 과 의사와 함께 수술**하며 수술 범위가 커질 수 있습니다.


        """,

        "로봇보조 전립선절제술": 
        
        """

        ❶ **배를 여는 수술로 바뀔 수 있어요**
        - 수술 중 **장이 심하게 달라붙어 있거나 예상치 못한 문제**가 생겨 로봇 수술을 계속하기 어려우면, 
        <br>환자의 안전을 위해 즉시 <mark>**배를 여는 수술(개복수술)로 변경**</mark>할 수 있습니다.

        ❷ **수술 후 소변줄을 차고 있어요**
        - 수술 후에는 소변이 잘 빠지도록 <mark>**소변줄(도뇨관)을 며칠간 유지**</mark>합니다.
        - 보통 수술 후 5~7일 뒤에 소변이 새지 않는지 확인하고 소변줄을 제거합니다.
        - 소변줄을 뺀 직후에는 자신도 모르게 소변이 샐 수 있으니, 임시로 사용할 **기저귀를 준비**하는 것이 좋습니다.

        ❸ **추가 치료가 필요할 수 있어요**
        - 수술 후 최종 조직검사 결과에 따라, 또는 나중에 암이 재발하면 방사선 치료나 호르몬 치료를 추가로 받을 수 있습니다.
        - 퇴원 후에도 <mark>**정기적인 피검사(전립선 수치 검사)**</mark>를 통해 재발 여부를 계속 확인합니다.


        """
    },
    "합병증": {
        "로봇보조 자궁절제술": """

        |**합병증**|**내용**|
        |---|---|
        |**소변 문제 (배뇨장애)**|수술 후 <span style="color: #007bff;">**방광 기능이 떨어져**</span> 소변보기가 어려울 수 있습니다. <br>약물 치료를 하며, 드물게는 오랫동안 지속될 수 있습니다.|
        |**심장/폐 기능 장애**|수술 시 배를 부풀리는 가스 때문에 드물게 발생할 수 있습니다. <br><span style="color: #007bff;">**어깨가 아플 수**</span> 있지만 보통 하루 안에 좋아집니다.|
        |**폐렴/무기폐**|전신 마취로 인해 <span style="color: #007bff;">**폐의 문제**</span>가 발생할 수 있습니다.|
        |**림프 부종**|림프절을 제거하면 <span style="color: #007bff;">**팔이나 다리가 붓는**</span> 증상이 나타날 수 있습니다.|
        |**주변 장기 손상**|수술 기구를 뱃속에 넣을 때나, 장기가 심하게 달라붙어 있을 때 주변의 위, 장, 혈관, 방광 등이 <span style="color: #007bff;">**다칠 수 있습니다.**</span> <br>과거에 수술 받은 경험이 있거나 자궁내막증 등이 있으면 위험이 더 커질 수 있습니다.|
        |**피가 나는 증상(출혈)**|수술 중이나 후에 피가 많이 나면 <span style="color: #007bff;">**수혈**</span>이 필요할 수 있습니다.|
        |**수술 부위 통증**|수술 후 2~5일 정도 아플 수 있으며, 진통제로 조절합니다.|
        |**장이 막히는 증상(장폐색)**|수술 후 <span style="color: #007bff;">**장이 잘 움직이지 않아**</span> 막힐 수 있습니다. 금식을 하거나 코에 관을 넣어 치료하며, 심하면 재수술이 필요할 수 있습니다.|
        |**상처 감염**|수술 부위에 <span style="color: #007bff;">**염증**</span>이 생길 수 있습니다. 소독과 항생제로 치료하며, 심하면 입원 기간이 길어지거나 재수술이 필요할 수 있습니다.|
        |**감각이나 운동 기능 저하**|오랜 시간 같은 자세로 수술받기 때문에 신경이 눌려 <span style="color: #007bff;">**팔다리에 감각 이상**</span>이나 마비가 올 수 있습니다. <br>대부분 시간이 지나면 좋아지지만, 드물게는 영구적인 후유증이 남을 수도 있습니다.|
        |**피떡이 혈관을 막는 증상**|다리나 폐, 뇌, 심장 등의 혈관이 피떡(혈전)으로 막힐 수 있습니다.<br>심하면 생명이 위험할 수 있어, 예방을 위해 약을 쓰거나 <span style="color: #007bff;">**압박 스타킹**</span>을 착용합니다.|
        |**눈의 압력 상승(안압 상승)**|수술 자세 때문에 <span style="color: #007bff;">**안압이 올라갈 수**</span> 있습니다. <br>녹내장이 있다면 수술 전에 꼭 알려주세요.|

        """,
        "로봇보조 전립선절제술": """
        <!-- TTS-SKIP-START -->
        
        |<span style="color: #dc143c;">**비뇨기계 합병증**</span>|**내용**|
        |---|---|
        |**소변이 새는 문제**|방광과 요도를 연결한 부위에서 <span style="color: #dc143c;">**소변이 샐 수**</span> 있습니다. <br>대부분 소변줄을 오래 유지하면 저절로 막히지만, 드물게 다른 치료나 수술이 필요할 수 있습니다.|
        |<mark>**발기부전**</mark>|수술 후 <span style="color: #dc143c;">**많은 환자에게 나타나는**</span> 증상입니다. 발기 신경을 얼마나 보존했는지에 따라 다르며, 회복에는 1~2년까지 오랜 시간이 걸릴 수 있습니다. <br>의사와 상의하여 발기부전 치료제를 복용하면 회복에 도움이 될 수 있습니다.|
        |<mark>**소변을 지리는 문제(요실금)**</mark>|<span style="color: #dc143c;">**많은 환자가 수술 후 요실금을 경험**</span>합니다. <br>대부분 3개월~1년에 걸쳐 서서히 좋아지지만, 일부는 계속 기저귀를 사용해야 할 수도 있습니다.|
        |**소변을 참기 힘든 문제**|<span style="color: #dc143c;">**갑자기 소변이 마려워**</span> 참기 힘들고 화장실을 자주 가게 될 수 있습니다.|
        |**피가 섞인 소변(혈뇨)**|소변줄을 하고 있을 때 <span style="color: #dc143c;">**피가 조금 섞여**</span> 나올 수 있으며 대부분 저절로 좋아집니다. <br>하지만 피떡이 소변줄을 막을 정도라면 즉시 치료가 필요합니다.|
        |**소변 길이 좁아지는 문제(방광 경부 협착)**|소변 줄기가 약해지고 소변을 봐도 시원하지 않을 수 있습니다. <br>증상이 심하면 좁아진 길을 넓히는 시술이나 수술이 필요할 수 있습니다.|
        |**감염**|소변 길이나 수술 상처에 <span style="color: #dc143c;">**염증**</span>이 생길 수 있습니다.|

        |<span style="color: #007bff;">**일반적인 합병증**</span>|**내용**|
        |---|---|
        |**피가 나는 증상(출혈)**|수술 중이나 후에 피가 나면 <span style="color: #007bff;">**수혈**</span>이 필요할 수 있습니다. <br>드물게는 지혈을 위한 재수술이 필요할 수도 있습니다.|
        |**주변 장기 손상**|드물지만 수술 중 <span style="color: #007bff;">**장이나 혈관, 신경 등이 다칠 수**</span> 있습니다. <br>손상 정도에 따라 치료 방법이 달라지며, 다리 감각이 둔해지거나 걷기 불편해지는 등의 후유증이 남을 수 있습니다.|
        |**상처가 잘 아물지 않는 문제**|드물게 <span style="color: #007bff;">**상처가 잘 낫지 않거나**</span>, 배에 탈장이 생길 수 있습니다.|
        |**폐렴 등 폐 합병증**|전신 마취 때문에 생길 수 있습니다.|
        |**림프액이 고이는 증상**|수술 부위에 물이 차거나 <span style="color: #007bff;">**다리가 부을 수**</span> 있지만, 대부분 저절로 좋아집니다.|
        |**장이 잘 움직이지 않는 증상(장 마비)**|<span style="color: #007bff;">**배가 더부룩**</span>하고 아플 수 있습니다.|
        |**눈의 압력 상승(안압 상승)**|수술 자세 때문에 <span style="color: #007bff;">**안압이 올라갈 수**</span> 있습니다. 녹내장이 있다면 수술 전에 꼭 알려주세요.|
        |**사망**|매우 드물지만(0~1.5%) 수술 후 사망하는 경우도 보고되고 있습니다.|
        <!-- TTS-SKIP-END -->

        """
    },
    "관리 방법": {
        "로봇보조 자궁절제술": """

        |**관리방법**|**내용**|
        |---|---|
        |**심호흡**|수술 직후 <span style="color: #007bff;">**숨을 크게 쉬면**</span> 폐렴 예방에 도움이 됩니다.|
        |**걷기 운동**|<span style="color: #007bff;">**가능한 한 빨리, 자주 걸어야**</span> 장이 정상적으로 움직여 장 마비를 막을 수 있습니다.|
        |**식사**|<span style="color: #007bff;">**소화가 잘되는 음식**</span>을 조금씩 자주 드시고, 물과 채소를 충분히 섭취하세요.|
        |**휴식**|수술 후 6주 동안은 무리한 활동이나 운동을 피하고 푹 쉬세요.|
        |**씻기**|가벼운 샤워는 실밥을 뽑은 후에 가능합니다. 그전에는 수건으로 몸을 닦아주세요.<br><span style="color: #007bff;">**탕 목욕은 4-6주, 부부관계는 6-8주**</span> 후부터 가능합니다.|
        |**질 분비물**|수술 후 3~4주간 피나 고름이 섞인 분비물이 나올 수 있습니다. <span style="color: #007bff;">**출혈이 너무 많거나, 맑은 물이 계속 흐르거나, 냄새나 통증이 심하면**</span> 병원을 방문하세요.|
        |<mark>**이럴 땐 꼭 병원으로 오세요!**</mark>|<span style="color: #dc143c;">**수술 상처가 붓고, 빨개지거나, 진물이 나고, 통증이 심해질 때<br>38도 이상의 열이 날 때<br>빨갛고 선명한 피가 질에서 계속 나올 때<br>배의 통증이 퇴원할 때보다 더 심해질 때**</span>|
        |**자궁경부암 검사**|자궁을 모두 제거했더라도, 질이나 외음부에 암이 생길 수 있으니 <span style="color: #007bff;">**정기적인 암 검진**</span>을 받는 것이 좋습니다.|

        """,
        "로봇보조 전립선절제술": 
        
        """

        |**관리방법**|**내용**|
        |---|---|
        |**심호흡**|수술 직후 <span style="color: #007bff;">**숨을 크게 쉬면**</span> 폐렴 예방에 도움이 됩니다.|
        |**걷기 운동**|<span style="color: #007bff;">**가능한 한 빨리, 자주 걸어야**</span> 장이 정상적으로 움직여 장 마비를 막을 수 있습니다.|
        |**식사**|<span style="color: #007bff;">**소화가 잘되는 음식**</span>을 조금씩 자주 드시고, 물과 채소를 충분히 섭취하세요.|
        |**휴식**|수술 후 6주 동안은 무리한 활동이나 운동을 피하고 푹 쉬세요.|
        |**씻기**|가벼운 샤워는 실밥을 뽑은 후에 가능합니다. 그전에는 수건으로 몸을 닦아주세요.<br><span style="color: #007bff;">**탕 목욕은 4-6주, 부부관계는 6-8주**</span> 후부터 가능합니다.|
        |**요실금 회복**|빠른 회복을 위해 <mark>**케겔운동, 자기장 치료**</mark> 등이 도움이 됩니다.|

                """
    },
}

# 사이드바 섹션 매핑
SECTIONS_SIDEBAR_MAP = {
    "necessity": {"title": "왜 수술을 해야 하나요?", "idx": 1},
    "method": {"title": "수술은 어떻게 진행되나요?", "idx": 2},
    "considerations": {"title": "알아두어야 할 점", "idx": 3},
    "side_effects": {"title": "합병증", "idx": 4},
    "precautions": {"title": "관리 방법", "idx": 5},
}





